# ============================================================================
# FastReactCMS - Backend Environment Configuration
# ============================================================================
# Copy this file to .env and update with your values
# NEVER commit .env to version control!

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
# For local development:
DATABASE_URL=postgresql://blogcms_user:your_password_here@localhost/blogcms_db

# For production (example):
# DATABASE_URL=postgresql://user:password@db-host:5432/production_db

# ============================================================================
# SECURITY & AUTHENTICATION
# ============================================================================
# SECRET_KEY: Used for JWT token signing (CRITICAL - CHANGE IN PRODUCTION!)
# Generate a secure key: openssl rand -hex 32
# Minimum 32 characters required
SECRET_KEY=your-secret-key-here-change-in-production-min-32-chars

# CSRF_SECRET_KEY: Used for CSRF token generation (CRITICAL - CHANGE IN PRODUCTION!)
# Generate a secure key: openssl rand -hex 32
# Minimum 32 characters required
CSRF_SECRET_KEY=your-csrf-secret-key-here-change-in-production-min-32-chars

# ACCESS_TOKEN_EXPIRE_MINUTES: JWT token lifetime in minutes
# Default: 1440 (24 hours)
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# ALGORITHM: JWT signing algorithm (DO NOT CHANGE unless you know what you're doing)
ALGORITHM=HS256

# ============================================================================
# ADMIN USER CONFIGURATION
# ============================================================================
# These are used by scripts/create_admin.py to create the initial admin user
# CHANGE THESE before running create_admin.py!

# Admin email address (used for login)
ADMIN_EMAIL=admin@yourdomain.com

# Admin password (minimum 12 characters required)
# Use a strong, unique password!
ADMIN_PASSWORD=change-this-secure-password-min-12-chars

# ============================================================================
# CORS & COOKIES
# ============================================================================
# CORS_ORIGINS: List of allowed origins for CORS
# IMPORTANT: Use "localhost", NOT "127.0.0.1" (cookies won't work with IP)
# For development:
CORS_ORIGINS=["http://localhost:5173"]

# For production (update with your domain):
# CORS_ORIGINS=["https://yourdomain.com","https://www.yourdomain.com"]

# Cookie configuration for JWT storage
COOKIE_NAME=auth_token
COOKIE_MAX_AGE=86400  # 24 hours in seconds

# COOKIE_HTTPONLY: MUST be true (prevents JavaScript access - XSS protection)
COOKIE_HTTPONLY=true

# COOKIE_SECURE: Set to true in production (requires HTTPS)
# Development: false (HTTP allowed)
# Production: true (HTTPS only)
COOKIE_SECURE=false

# COOKIE_SAMESITE: CSRF protection level
# Options: strict, lax, none
# Recommended: lax (balance between security and usability)
COOKIE_SAMESITE=lax

# ============================================================================
# RATE LIMITING
# ============================================================================
# Protect against brute force attacks
RATE_LIMIT_ENABLED=true

# Maximum requests per minute per IP
# Default: 60 (reasonable for normal usage)
# Login endpoint has stricter limit (5/minute)
RATE_LIMIT_PER_MINUTE=60

# ============================================================================
# ENVIRONMENT
# ============================================================================
# ENVIRONMENT: Current environment
# Options: development, production
# Production mode enables additional security checks
ENVIRONMENT=development

# DEBUG: Enable debug mode (verbose logging)
# Development: true
# Production: false (IMPORTANT for security)
DEBUG=true

# ============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ============================================================================
# Before deploying to production, ensure:
# [ ] SECRET_KEY is changed to a strong random value (32+ chars)
# [ ] CSRF_SECRET_KEY is changed to a strong random value (32+ chars)
# [ ] ADMIN_PASSWORD is changed to a strong password (12+ chars)
# [ ] COOKIE_SECURE is set to true
# [ ] CORS_ORIGINS includes only your production domain(s)
# [ ] DEBUG is set to false
# [ ] ENVIRONMENT is set to production
# [ ] DATABASE_URL points to production database
# [ ] HTTPS is enabled on your server
#
# See SECURITY_AUDIT_REPORT.md for detailed security guidance.
# ============================================================================
