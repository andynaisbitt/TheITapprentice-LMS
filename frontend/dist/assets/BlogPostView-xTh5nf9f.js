import{j as e,r as n,o as u,f as b,u as h,k as y,m as j}from"./index-smch1bU1.js";import{b as k}from"./blog.api-Cjbtta1h.js";import{r as d}from"./imageUrl-D5qEYL9l.js";import{M as f}from"./index-K1Z0z3j6.js";const v=({slot:o,format:a="auto",responsive:s=!0,className:t="",style:m={}})=>(n.useEffect(()=>{},[]),null),N=({slot:o="auto",className:a=""})=>e.jsx(v,{slot:o,format:"auto",responsive:!0,className:`my-8 ${a}`}),A=()=>{const{slug:o}=u(),a=b(),{isAdmin:s}=h(),[t,m]=n.useState(null),[p,c]=n.useState(!0),[x,i]=n.useState("");n.useEffect(()=>{o&&g(o)},[o]);const g=async r=>{try{c(!0),i("");const l=await k.getBySlug(r);m(l)}catch(l){console.error("Error loading post:",l),l.response?.status===404?i("Blog post not found"):i("Failed to load blog post")}finally{c(!1)}};return p?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading post..."})]})}):x?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900 px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-slate-800 shadow-lg rounded-lg p-8 text-center border border-gray-200 dark:border-slate-700",children:[e.jsx("div",{className:"text-red-600 dark:text-red-400 text-5xl mb-4",children:"ðŸ“„"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:x}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The blog post you're looking for doesn't exist or has been removed."}),e.jsx("button",{onClick:()=>a(s?"/admin":"/blog"),className:"bg-blue-600 dark:bg-blue-700 text-white px-6 py-2 rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition",children:s?"Back to Admin Dashboard":"Back to Blog"})]})}):t?e.jsxs(e.Fragment,{children:[e.jsxs(y,{children:[e.jsx("title",{children:t.meta_title||t.title}),e.jsx("meta",{name:"description",content:t.meta_description||t.excerpt}),t.meta_keywords&&e.jsx("meta",{name:"keywords",content:t.meta_keywords}),e.jsx("meta",{property:"og:type",content:"article"}),e.jsx("meta",{property:"og:title",content:t.meta_title||t.title}),e.jsx("meta",{property:"og:description",content:t.meta_description||t.excerpt}),t.featured_image&&e.jsx("meta",{property:"og:image",content:d(t.featured_image)}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:t.meta_title||t.title}),e.jsx("meta",{name:"twitter:description",content:t.meta_description||t.excerpt}),t.featured_image&&e.jsx("meta",{name:"twitter:image",content:d(t.featured_image)}),e.jsx("meta",{property:"article:published_time",content:t.published_at||t.created_at}),e.jsx("meta",{property:"article:modified_time",content:t.updated_at}),t.tags.map(r=>e.jsx("meta",{property:"article:tag",content:r.name},r.id)),t.canonical_url?e.jsx("link",{rel:"canonical",href:t.canonical_url}):e.jsx("link",{rel:"canonical",href:`${window.location.origin}/blog/${t.slug}`}),e.jsx("meta",{property:"og:url",content:t.canonical_url||`${window.location.origin}/blog/${t.slug}`})]}),e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:e.jsxs(j.article,{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[e.jsxs("button",{onClick:()=>a(s?"/admin":"/blog"),className:"group flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 font-medium mb-8 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 transform group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsx("span",{className:"text-sm sm:text-base",children:s?"Back to Admin":"Back to Blog"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[t.category&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-full font-medium text-xs sm:text-sm",children:t.category.name}),e.jsx("span",{className:"hidden sm:inline",children:"â€¢"})]}),e.jsx("time",{dateTime:t.published_at||t.created_at,className:"text-xs sm:text-sm",children:new Date(t.published_at||t.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),e.jsx("span",{className:"hidden sm:inline",children:"â€¢"}),e.jsxs("span",{className:"text-xs sm:text-sm",children:[t.read_time_minutes," min read"]}),e.jsx("span",{className:"hidden sm:inline",children:"â€¢"}),e.jsxs("span",{className:"text-xs sm:text-sm",children:["ðŸ‘ï¸ ",t.view_count.toLocaleString()," views"]})]}),e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 dark:text-gray-100 mb-4 sm:mb-6 leading-tight",children:t.title}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:t.tags.map(r=>e.jsxs("span",{className:"px-2.5 py-1 bg-gray-100 dark:bg-slate-800 text-gray-700 dark:text-gray-300 text-xs sm:text-sm rounded-md border border-gray-200 dark:border-slate-700",children:["#",r.name]},r.id))}),t.author&&e.jsxs("div",{className:"flex items-center justify-between pb-6 mb-8 border-b border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-600 to-blue-700 dark:from-blue-500 dark:to-blue-600 rounded-full flex items-center justify-center text-white font-semibold text-sm sm:text-base shadow-md",children:t.author.first_name?.charAt(0)||t.author.username.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100 text-sm sm:text-base",children:t.author.first_name&&t.author.last_name?`${t.author.first_name} ${t.author.last_name}`:t.author.username}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Author"})]})]}),s&&e.jsxs("button",{onClick:()=>a(`/admin/blog/${t.id}`),className:"flex items-center gap-2 px-3 sm:px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white text-xs sm:text-sm font-medium rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors shadow-sm",title:"Edit this post",children:[e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),e.jsx("span",{className:"hidden sm:inline",children:"Edit Post"}),e.jsx("span",{className:"sm:hidden",children:"Edit"})]})]}),t.featured_image&&e.jsxs("div",{className:"mb-8 sm:mb-12 rounded-lg sm:rounded-xl overflow-hidden shadow-xl",children:[e.jsx("img",{src:d(t.featured_image),alt:t.featured_image_alt||t.title,className:"w-full h-auto object-cover"}),t.featured_image_caption&&e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 text-center mt-2 px-4",children:t.featured_image_caption})]}),e.jsx("div",{className:`prose prose-base sm:prose-lg dark:prose-invert max-w-none mb-8 sm:mb-12\r
                       prose-headings:font-bold prose-headings:text-gray-900 dark:prose-headings:text-gray-100\r
                       prose-headings:tracking-tight prose-headings:scroll-mt-20\r
                       prose-h2:text-2xl sm:prose-h2:text-3xl prose-h2:mt-12 prose-h2:mb-4\r
                       prose-h3:text-xl sm:prose-h3:text-2xl prose-h3:mt-8 prose-h3:mb-3\r
                       prose-p:text-gray-700 dark:prose-p:text-gray-300 prose-p:leading-relaxed prose-p:mb-4\r
                       prose-a:text-blue-600 dark:prose-a:text-blue-400 prose-a:no-underline hover:prose-a:underline prose-a:font-medium\r
                       prose-strong:text-gray-900 dark:prose-strong:text-gray-100 prose-strong:font-semibold\r
                       prose-code:text-gray-900 dark:prose-code:text-gray-100 prose-code:bg-gray-100 dark:prose-code:bg-slate-800\r
                       prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded prose-code:text-sm\r
                       prose-pre:bg-gray-100 dark:prose-pre:bg-slate-800 prose-pre:border prose-pre:border-gray-200 dark:prose-pre:border-slate-700\r
                       prose-pre:rounded-lg prose-pre:shadow-sm\r
                       prose-blockquote:border-l-4 prose-blockquote:border-blue-600 dark:prose-blockquote:border-blue-400\r
                       prose-blockquote:bg-blue-50 dark:prose-blockquote:bg-blue-900/10 prose-blockquote:py-4 prose-blockquote:px-6\r
                       prose-blockquote:rounded-r-lg prose-blockquote:not-italic\r
                       prose-ul:list-disc prose-ul:pl-6 prose-ul:space-y-2\r
                       prose-ol:list-decimal prose-ol:pl-6 prose-ol:space-y-2\r
                       prose-li:text-gray-700 dark:prose-li:text-gray-300\r
                       prose-img:rounded-lg prose-img:shadow-md`,children:e.jsx(f,{children:t.content})}),e.jsx("div",{className:"my-12",children:e.jsx(N,{})}),e.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-8 mt-12",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[t.categories&&t.categories.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Filed under:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.categories.map(r=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-full text-sm font-medium",children:r.name},r.id))})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.view_count.toLocaleString()," views"]})]})}),e.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-8 mt-8",children:e.jsxs("button",{onClick:()=>a(s?"/admin":"/blog"),className:"group flex items-center gap-2 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 transform group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsx("span",{className:"text-sm sm:text-base",children:s?"Back to Admin Dashboard":"Back to Blog"})]})})]})})]}):null};export{A as BlogPostView,A as default};
