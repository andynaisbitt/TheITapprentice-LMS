import{n as U,f as I,r as g,j as e,v as _,p as P,E as T,D as M}from"./index-CH_EXTVi.js";import{p as u}from"./pages.api-DlyJX5MA.js";import{a as O}from"./admin-blog.api-CnIkxrlf.js";import{C as E}from"./chevron-up-DJPPnxlv.js";import{T as z}from"./trash-2-CEmDLHiu.js";import{P as F}from"./pen-square-Bdne2DL8.js";import{A}from"./arrow-left-CTJyzdxq.js";const q=()=>{const{id:n}=U(),h=I(),[v,y]=g.useState(!1),[p,k]=g.useState(!1),[w,m]=g.useState(!1),[b,j]=g.useState(!1),[l,i]=g.useState({slug:"",title:"",meta_title:"",meta_description:"",meta_keywords:"",canonical_url:"",blocks:[],published:!1});g.useEffect(()=>{n&&N(parseInt(n))},[n]);const N=async s=>{try{y(!0);const t=await u.admin.getById(s);i({slug:t.slug,title:t.title,meta_title:t.meta_title||"",meta_description:t.meta_description||"",meta_keywords:t.meta_keywords||"",canonical_url:t.canonical_url||"",blocks:t.blocks,published:t.published})}catch(t){console.error("Failed to load page:",t),alert("Failed to load page")}finally{y(!1)}},C=async s=>{s.preventDefault();try{k(!0),n?await u.admin.update(parseInt(n),l):await u.admin.create(l),m(!0)}catch(t){console.error("Save failed:",t),alert(t.response?.data?.detail||"Failed to save page")}finally{k(!1)}},S=async(s,t)=>{const a=s.target.files?.[0];if(!a)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(a.type)){alert("Invalid file type. Please upload JPEG, PNG, GIF, or WebP images.");return}const o=10*1024*1024;if(a.size>o){alert("File too large. Maximum size is 10MB.");return}try{j(!0);const x=await O.uploadImage(a);d(t,{...l.blocks[t].data,url:x.url}),alert("Image uploaded successfully!")}catch(x){console.error("Image upload failed:",x),alert(`Upload failed: ${x.response?.data?.detail||x.message}`)}finally{j(!1)}},c=s=>{const a={type:s,data:{hero:{title:"Hero Title",subtitle:"Hero subtitle",backgroundImage:""},text:{content:`# Heading

Your content here...`,alignment:"left",maxWidth:"lg"},stats:{title:"Our Stats",stats:[{label:"Users",value:"10k",suffix:"+"}]},cta:{title:"Get Started",description:"",primaryButton:{text:"Sign Up",link:"/signup"},secondaryButton:{text:"",link:""}},image:{url:"",alt:"",caption:"",width:"full"}}[s]||{}};i(r=>({...r,blocks:[...r.blocks,a]}))},B=s=>{confirm("Are you sure you want to remove this block?")&&i(t=>({...t,blocks:t.blocks.filter((a,r)=>r!==s)}))},d=(s,t)=>{i(a=>({...a,blocks:a.blocks.map((r,o)=>o===s?{...r,data:t}:r)}))},f=(s,t)=>{const a=t==="up"?s-1:s+1;if(a<0||a>=l.blocks.length)return;const r=[...l.blocks];[r[s],r[a]]=[r[a],r[s]],i(o=>({...o,blocks:r}))},L=(s,t)=>{const a=s.data;switch(s.type){case"hero":return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),e.jsx("input",{type:"text",value:a.title||"",onChange:r=>d(t,{...a,title:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Hero Title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subtitle"}),e.jsx("input",{type:"text",value:a.subtitle||"",onChange:r=>d(t,{...a,subtitle:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Hero subtitle"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Background Image URL (optional)"}),e.jsx("input",{type:"text",value:a.backgroundImage||"",onChange:r=>d(t,{...a,backgroundImage:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://example.com/image.jpg"})]})]});case"text":return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Content (Markdown supported)"}),e.jsx("textarea",{value:a.content||"",onChange:r=>d(t,{...a,content:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm",rows:10,placeholder:`# Heading

Your content here...`}),e.jsxs("details",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx("summary",{className:"cursor-pointer hover:text-gray-900 dark:hover:text-gray-200 font-medium",children:"ðŸ“– Markdown Formatting Guide"}),e.jsxs("div",{className:"mt-2 p-3 bg-gray-100 dark:bg-gray-800 rounded border border-gray-200 dark:border-gray-700 space-y-1",children:[e.jsxs("p",{children:[e.jsx("code",{children:"# Heading 1"})," - Large heading"]}),e.jsxs("p",{children:[e.jsx("code",{children:"## Heading 2"})," - Medium heading"]}),e.jsxs("p",{children:[e.jsx("code",{children:"**bold text**"})," - Bold text"]}),e.jsxs("p",{children:[e.jsx("code",{children:"*italic text*"})," - Italic text"]}),e.jsxs("p",{children:[e.jsx("code",{children:"[link text](url)"})," - Hyperlink"]}),e.jsxs("p",{children:[e.jsx("code",{children:"- List item"})," - Bullet point"]}),e.jsxs("p",{children:[e.jsx("code",{children:"1. Numbered item"})," - Numbered list"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Alignment"}),e.jsxs("select",{value:a.alignment||"left",onChange:r=>d(t,{...a,alignment:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"center",children:"Center"}),e.jsx("option",{value:"right",children:"Right"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max Width"}),e.jsxs("select",{value:a.maxWidth||"lg",onChange:r=>d(t,{...a,maxWidth:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"sm",children:"Small"}),e.jsx("option",{value:"md",children:"Medium"}),e.jsx("option",{value:"lg",children:"Large"}),e.jsx("option",{value:"xl",children:"Extra Large"}),e.jsx("option",{value:"full",children:"Full Width"})]})]})]})]});case"image":return e.jsxs("div",{className:"space-y-3",children:[a.url?e.jsxs("div",{className:"space-y-2",children:[e.jsx("img",{src:a.url,alt:a.alt||"Preview",className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 max-h-64 object-cover"}),e.jsx("button",{type:"button",onClick:()=>d(t,{...a,url:""}),className:"text-sm text-red-600 dark:text-red-400 hover:text-red-700",children:"Remove image"})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:r=>S(r,t),className:"hidden",id:`image-upload-${t}`,disabled:b}),e.jsxs("label",{htmlFor:`image-upload-${t}`,className:`cursor-pointer text-sm flex items-center justify-center gap-2 ${b?"text-gray-400 dark:text-gray-600 cursor-not-allowed":"text-blue-600 dark:text-blue-400 hover:text-blue-700"}`,children:[e.jsx(M,{size:20}),b?"Uploading...":"Upload Image"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Image URL (or upload above)"}),e.jsx("input",{type:"text",value:a.url||"",onChange:r=>d(t,{...a,url:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://example.com/image.jpg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Alt Text (for SEO)"}),e.jsx("input",{type:"text",value:a.alt||"",onChange:r=>d(t,{...a,alt:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Image description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Caption (optional)"}),e.jsx("input",{type:"text",value:a.caption||"",onChange:r=>d(t,{...a,caption:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Optional caption"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Width"}),e.jsxs("select",{value:a.width||"full",onChange:r=>d(t,{...a,width:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"sm",children:"Small"}),e.jsx("option",{value:"md",children:"Medium"}),e.jsx("option",{value:"lg",children:"Large"}),e.jsx("option",{value:"full",children:"Full Width"})]})]})]});case"cta":return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),e.jsx("input",{type:"text",value:a.title||"",onChange:r=>d(t,{...a,title:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Get Started"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description (optional)"}),e.jsx("textarea",{value:a.description||"",onChange:r=>d(t,{...a,description:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3,placeholder:"Optional description text"})]}),e.jsxs("div",{className:"border-t pt-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Primary Button"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Button Text"}),e.jsx("input",{type:"text",value:a.primaryButton?.text||"",onChange:r=>d(t,{...a,primaryButton:{...a.primaryButton,text:r.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"Sign Up"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Link URL"}),e.jsx("input",{type:"text",value:a.primaryButton?.link||"",onChange:r=>d(t,{...a,primaryButton:{...a.primaryButton,link:r.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"/signup"})]})]})]}),e.jsxs("div",{className:"border-t pt-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Secondary Button (optional)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Button Text"}),e.jsx("input",{type:"text",value:a.secondaryButton?.text||"",onChange:r=>d(t,{...a,secondaryButton:{...a.secondaryButton,text:r.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"Learn More"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Link URL"}),e.jsx("input",{type:"text",value:a.secondaryButton?.link||"",onChange:r=>d(t,{...a,secondaryButton:{...a.secondaryButton,link:r.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"/about"})]})]})]})]});case"stats":return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Section Title"}),e.jsx("input",{type:"text",value:a.title||"",onChange:r=>d(t,{...a,title:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Our Stats"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Stats (JSON format)"}),e.jsx("textarea",{value:JSON.stringify(a.stats||[],null,2),onChange:r=>{try{const o=JSON.parse(r.target.value);d(t,{...a,stats:o})}catch{}},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white font-mono text-sm",rows:8,placeholder:'[{"label": "Users", "value": "10k", "suffix": "+"}]'}),e.jsxs("details",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx("summary",{className:"cursor-pointer hover:text-gray-900 dark:hover:text-gray-200 font-medium",children:"ðŸ“– Stats JSON Format Help"}),e.jsxs("div",{className:"mt-2 p-3 bg-gray-100 dark:bg-gray-800 rounded border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Required fields:"}),e.jsxs("p",{className:"mb-2",children:[e.jsx("code",{children:"label"}),' - Stat name (e.g., "Users")']}),e.jsxs("p",{className:"mb-2",children:[e.jsx("code",{children:"value"}),' - Stat number (e.g., "10k")']}),e.jsx("p",{className:"font-semibold mb-1 mt-3",children:"Optional fields:"}),e.jsxs("p",{className:"mb-2",children:[e.jsx("code",{children:"suffix"}),' - Symbol after number (e.g., "+")']}),e.jsx("p",{className:"font-semibold mt-3 mb-1",children:"Example:"}),e.jsx("pre",{className:"bg-white dark:bg-gray-900 p-2 rounded text-xs overflow-x-auto",children:'[ {"label": "Users", "value": "10k", "suffix": "+"}, {"label": "Countries", "value": "50", "suffix": ""} ]'})]})]})]})]});default:return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Block Data (JSON)"}),e.jsx("textarea",{value:JSON.stringify(a,null,2),onChange:r=>{try{const o=JSON.parse(r.target.value);d(t,o)}catch{}},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white font-mono text-sm",rows:6})]})}};return v?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading page..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:n?"Edit Page":"Create Page"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Build your page with content blocks"})]}),e.jsxs("form",{onSubmit:C,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Basic Information"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Slug (URL) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:l.slug,onChange:s=>i(t=>({...t,slug:s.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"about-us",required:!0}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Will be accessible at /pages/",l.slug]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Page Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:l.title,onChange:s=>i(t=>({...t,title:s.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"About Us",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Meta Title (SEO)"}),e.jsx("input",{type:"text",value:l.meta_title,onChange:s=>i(t=>({...t,meta_title:s.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"About Us | FastReactCMS",maxLength:60}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.meta_title?.length||0,"/60 characters"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Meta Description (SEO)"}),e.jsx("textarea",{value:l.meta_description,onChange:s=>i(t=>({...t,meta_description:s.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Learn more about our company and mission...",rows:3,maxLength:160}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.meta_description?.length||0,"/160 characters"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Canonical URL (Optional)"}),e.jsx("input",{type:"url",value:l.canonical_url||"",onChange:s=>i(t=>({...t,canonical_url:s.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://example.com/original-page",maxLength:500}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Use this if this page is a duplicate or syndicated version of content originally published elsewhere."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"published",checked:l.published,onChange:s=>i(t=>({...t,published:s.target.checked})),className:"w-5 h-5 text-blue-600 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 checked:bg-blue-600 checked:border-blue-600"}),e.jsx("label",{htmlFor:"published",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Published (visible to public)"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Content Blocks (",l.blocks.length,")"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{type:"button",onClick:()=>c("hero"),className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium",children:"+ Hero"}),e.jsx("button",{type:"button",onClick:()=>c("text"),className:"px-3 py-2 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium",children:"+ Text"}),e.jsx("button",{type:"button",onClick:()=>c("image"),className:"px-3 py-2 text-sm bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-medium",children:"+ Image"}),e.jsx("button",{type:"button",onClick:()=>c("stats"),className:"px-3 py-2 text-sm bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium",children:"+ Stats"}),e.jsx("button",{type:"button",onClick:()=>c("cta"),className:"px-3 py-2 text-sm bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition font-medium",children:"+ CTA"})]})]}),l.blocks.length===0&&e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No blocks yet. Add your first block above!"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Choose from Hero, Text, Image, Stats, or CTA blocks"})]}),e.jsx("div",{className:"space-y-4",children:l.blocks.map((s,t)=>e.jsxs("div",{className:"border-2 border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white capitalize text-lg flex items-center gap-2",children:[s.type==="hero"&&"ðŸŽ¯",s.type==="text"&&"ðŸ“",s.type==="image"&&"ðŸ–¼ï¸",s.type==="stats"&&"ðŸ“Š",s.type==="cta"&&"ðŸŽ¬",s.type," Block"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>f(t,"up"),disabled:t===0,className:"p-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-30 disabled:cursor-not-allowed transition",title:"Move up",children:e.jsx(E,{size:18})}),e.jsx("button",{type:"button",onClick:()=>f(t,"down"),disabled:t===l.blocks.length-1,className:"p-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-30 disabled:cursor-not-allowed transition",title:"Move down",children:e.jsx(_,{size:18})}),e.jsx("button",{type:"button",onClick:()=>B(t),className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",title:"Remove block",children:e.jsx(z,{size:18})})]})]}),L(s,t)]},t))})]}),e.jsxs("div",{className:"flex gap-4 sticky bottom-4 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"submit",disabled:p,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition",children:p?"Saving...":n?"Update Page":"Create Page"}),e.jsx("button",{type:"button",onClick:()=>h("/admin/pages"),className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition font-semibold",children:"Cancel"})]})]})]}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(P,{className:"text-green-600 dark:text-green-400",size:32})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Success!"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Your page has been ",n?"updated":"created"," successfully."]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>{m(!1)},className:"w-full px-6 py-3 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition font-medium flex items-center justify-center gap-2",children:[e.jsx(F,{size:20}),"Continue Editing"]}),l.slug&&l.published&&e.jsxs("button",{onClick:()=>{window.open(`/pages/${l.slug}`,"_blank")},className:"w-full px-6 py-3 bg-green-600 dark:bg-green-500 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-600 transition font-medium flex items-center justify-center gap-2",children:[e.jsx(T,{size:20}),"Preview in New Tab"]}),e.jsxs("button",{onClick:()=>{m(!1),h("/admin/pages")},className:"w-full px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition font-medium flex items-center justify-center gap-2",children:[e.jsx(A,{size:20}),"Back to Pages"]})]})]})})]})};export{q as PageEditor,q as default};
