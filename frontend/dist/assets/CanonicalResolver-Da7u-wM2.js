import{o as m,f,r,j as e,a0 as h,g as p}from"./index-CJMQzWwg.js";const N=()=>{const{possibleCanonical:t}=m(),i=f(),[d,s]=r.useState(!0),[c,a]=r.useState(null),[l,u]=r.useState(null);return r.useEffect(()=>{(async()=>{if(!t){a("No path provided"),s(!1);return}if(["login","admin","dashboard","unsubscribe","blog","pages","privacy","terms","about","contact"].includes(t.toLowerCase())){a("Page not found"),s(!1);return}try{const n=`${window.location.origin}/${t}`,g=await p.get("/api/v1/content/by-canonical",{params:{url:n}}),{type:x,slug:o}=g.data,b=x==="post"?`/blog/${o}`:`/pages/${o}`;u(b)}catch(n){n.response?.status===404?a("Page not found"):a("Failed to resolve URL")}finally{s(!1)}})()},[t]),l?e.jsx(h,{to:l,replace:!0}):d?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Resolving URL..."})]})}):c?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900",children:e.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-slate-800 shadow-lg rounded-lg p-8 text-center border border-gray-200 dark:border-slate-700",children:[e.jsx("div",{className:"text-red-600 dark:text-red-400 text-5xl mb-4",children:"404"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Page Not Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The page you're looking for doesn't exist or has been removed."}),e.jsx("button",{onClick:()=>i("/"),className:"bg-blue-600 dark:bg-blue-700 text-white px-6 py-2 rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition",children:"Go Home"})]})}):null};export{N as CanonicalResolver,N as default};
