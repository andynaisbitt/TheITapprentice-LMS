import{c as v,r as s,j as e,D as ie,l as de,m as y,F as ne,E as oe,A as Q,X as H,x as ce,I as w}from"./index-9AhYSV_Z.js";import{a as p}from"./admin-blog.api-D57SxWN5.js";import{r as u}from"./imageUrl-D5qEYL9l.js";import{U as P}from"./upload-cxvoJ_H9.js";import{T as J}from"./trash-2-DRLNEOm3.js";import{L as U}from"./loader-2-CpwtcwX3.js";import{C as xe}from"./check-circle-2-DYYIZPiC.js";const I=v("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),K=v("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]),ge=v("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),he=v("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),n=b=>b.url||b.file_url||"",ke=()=>{const[b,F]=s.useState([]),[W,z]=s.useState(!0),[C,E]=s.useState("grid"),[f,X]=s.useState(""),[l,j]=s.useState([]),[M,Y]=s.useState(1),[$,Z]=s.useState(1),[ee,g]=s.useState(!1),[ae,o]=s.useState(!1),[r,te]=s.useState(null),[T,k]=s.useState([]),[N,h]=s.useState({alt_text:"",caption:"",title:"",description:""}),[q,B]=s.useState(!1),d=s.useCallback(async()=>{z(!0);try{const a=await p.getMediaLibrary(M,24);console.log("Media API response:",a);let t=[];if(Array.isArray(a))t=a;else if(a?.items&&Array.isArray(a.items))t=a.items;else if(a?.data&&Array.isArray(a.data))t=a.data;else if(a?.media&&Array.isArray(a.media))t=a.media;else if(typeof a=="object"&&a!==null){const x=Object.values(a).find(i=>Array.isArray(i));x&&(t=x)}console.log("Parsed media items:",t),F(t),Z(a?.total_pages||a?.totalPages||a?.total||1)}catch(a){console.error("Failed to load media:",a),F([])}finally{z(!1)}},[M]);s.useEffect(()=>{d()},[d]);const c=b.filter(a=>{if(!f)return!0;const t=f.toLowerCase();return a.filename.toLowerCase().includes(t)||a.original_filename?.toLowerCase().includes(t)||a.alt_text?.toLowerCase().includes(t)||a.caption?.toLowerCase().includes(t)}),G=a=>{j(t=>t.includes(a)?t.filter(x=>x!==a):[...t,a])},re=()=>{l.length===c.length?j([]):j(c.map(a=>a.id))},se=async()=>{if(confirm(`Delete ${l.length} item(s)?`))try{await Promise.all(l.map(a=>p.deleteMedia(a))),j([]),d()}catch(a){console.error("Failed to delete:",a)}},R=a=>{te(a),h({alt_text:a.alt_text||"",caption:a.caption||"",title:a.title||a.original_filename||"",description:a.description||""}),o(!0)},le=async()=>{if(r){B(!0);try{o(!1),d()}catch(a){console.error("Failed to save:",a)}finally{B(!1)}}},O=async a=>{const t=Array.from(a),x=t.map(i=>({file:i,progress:0,status:"uploading"}));k(i=>[...i,...x]);for(let i=0;i<t.length;i++){const D=t[i];try{await p.uploadImage(D),k(A=>A.map(m=>m.file===D?{...m,progress:100,status:"success"}:m))}catch(A){k(m=>m.map(L=>L.file===D?{...L,status:"error",error:A.message||"Upload failed"}:L))}}setTimeout(()=>{d()},500)},S=a=>{navigator.clipboard.writeText(u(a))},_=a=>a<1024?`${a} B`:a<1024*1024?`${(a/1024).toFixed(1)} KB`:`${(a/(1024*1024)).toFixed(1)} MB`,V=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[e.jsx(ie,{className:"w-7 h-7 text-blue-600"}),"Media Library"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage images and media files"})]}),e.jsxs("button",{onClick:()=>g(!0),className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(P,{className:"w-5 h-5"}),"Upload"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"relative flex-1 max-w-md w-full",children:[e.jsx(de,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by filename, alt text...",value:f,onChange:a=>X(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>E("grid"),className:`p-2 rounded-md transition-colors ${C==="grid"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:e.jsx(ge,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),e.jsx("button",{onClick:()=>E("list"),className:`p-2 rounded-md transition-colors ${C==="list"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:e.jsx(he,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})})]}),l.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[l.length," selected"]}),e.jsx("button",{onClick:se,className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete selected",children:e.jsx(J,{className:"w-5 h-5"})})]})]})]}),W?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(U,{className:"w-8 h-8 animate-spin text-blue-600"})}):c.length===0?e.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx(K,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No media found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:f?"Try a different search term":"Upload your first image"}),e.jsxs("button",{onClick:()=>g(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(P,{className:"w-5 h-5"}),"Upload Media"]})]}):C==="grid"?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:c.map(a=>e.jsxs(y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`group relative bg-white dark:bg-gray-800 rounded-xl border-2 overflow-hidden cursor-pointer transition-all ${l.includes(a.id)?"border-blue-500 ring-2 ring-blue-500/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,onClick:()=>R(a),children:[e.jsx("div",{className:"absolute top-2 left-2 z-10",onClick:t=>{t.stopPropagation(),G(a.id)},children:e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${l.includes(a.id)?"bg-blue-500 border-blue-500":"bg-white/80 border-gray-300 group-hover:border-gray-400"}`,children:l.includes(a.id)&&e.jsx(ne,{className:"w-3 h-3 text-white"})})}),e.jsx("div",{className:"aspect-square bg-gray-100 dark:bg-gray-900",children:e.jsx("img",{src:u(n(a)),alt:a.alt_text||a.filename,className:"w-full h-full object-cover",loading:"lazy"})}),e.jsxs("div",{className:"p-2",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900 dark:text-white truncate",children:a.original_filename||a.filename}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:_(a.file_size)})]}),e.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),S(n(a))},className:"p-2 bg-white rounded-lg hover:bg-gray-100 transition-colors",title:"Copy URL",children:e.jsx(I,{className:"w-4 h-4 text-gray-700"})}),e.jsx("a",{href:u(n(a)),target:"_blank",rel:"noopener noreferrer",onClick:t=>t.stopPropagation(),className:"p-2 bg-white rounded-lg hover:bg-gray-100 transition-colors",title:"Open in new tab",children:e.jsx(oe,{className:"w-4 h-4 text-gray-700"})})]})]},a.id))}):e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-10 px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:l.length===c.length,onChange:re,className:"rounded border-gray-300"})}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Image"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Filename"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase hidden sm:table-cell",children:"Size"}),e.jsx("th",{className:"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase hidden md:table-cell",children:"Date"}),e.jsx("th",{className:"w-20 px-4 py-3"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:c.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer",onClick:()=>R(a),children:[e.jsx("td",{className:"px-4 py-3",onClick:t=>t.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:l.includes(a.id),onChange:()=>G(a.id),className:"rounded border-gray-300"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-900",children:e.jsx("img",{src:u(n(a)),alt:a.alt_text||a.filename,className:"w-full h-full object-cover"})})}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate max-w-xs",children:a.original_filename||a.filename}),a.alt_text&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-xs",children:a.alt_text})]}),e.jsx("td",{className:"px-4 py-3 hidden sm:table-cell",children:e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:_(a.file_size)})}),e.jsx("td",{className:"px-4 py-3 hidden md:table-cell",children:e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:V(a.created_at)})}),e.jsx("td",{className:"px-4 py-3",onClick:t=>t.stopPropagation(),children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>S(n(a)),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors",title:"Copy URL",children:e.jsx(I,{className:"w-4 h-4 text-gray-500"})}),e.jsx("button",{onClick:()=>{confirm("Delete this image?")&&p.deleteMedia(a.id).then(d)},className:"p-1.5 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Delete",children:e.jsx(J,{className:"w-4 h-4 text-red-500"})})]})})]},a.id))})]})}),$>1&&e.jsx("div",{className:"flex justify-center gap-2",children:Array.from({length:$},(a,t)=>t+1).map(a=>e.jsx("button",{onClick:()=>Y(a),className:`w-10 h-10 rounded-lg font-medium transition-colors ${a===M?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700"}`,children:a},a))}),e.jsx(Q,{children:ee&&e.jsx(y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>g(!1),children:e.jsxs(y.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:a=>a.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-lg shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Upload Media"}),e.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(H,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl cursor-pointer hover:border-blue-500 hover:bg-blue-50/50 dark:hover:bg-blue-900/10 transition-colors",onDragOver:a=>a.preventDefault(),onDrop:a=>{a.preventDefault(),O(a.dataTransfer.files)},children:[e.jsx(P,{className:"w-10 h-10 text-gray-400 mb-3"}),e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Drag & drop files here"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"or click to browse"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-3",children:"JPG, PNG, GIF, WebP (max 10MB)"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:a=>a.target.files&&O(a.target.files)})]}),T.length>0&&e.jsx("div",{className:"mt-4 space-y-2",children:T.map((a,t)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[e.jsx(K,{className:"w-8 h-8 text-gray-400"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:a.file.name}),a.status==="uploading"&&e.jsx("div",{className:"w-full h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full mt-1",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all",style:{width:`${a.progress}%`}})}),a.status==="error"&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:a.error})]}),a.status==="uploading"&&e.jsx(U,{className:"w-5 h-5 animate-spin text-blue-500"}),a.status==="success"&&e.jsx(xe,{className:"w-5 h-5 text-green-500"}),a.status==="error"&&e.jsx(ce,{className:"w-5 h-5 text-red-500"})]},t))})]}),e.jsx("div",{className:"flex justify-end gap-3 p-4 border-t border-gray-200 dark:border-gray-700",children:e.jsx("button",{onClick:()=>{g(!1),k([])},className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Done"})})]})})}),e.jsx(Q,{children:ae&&r&&e.jsx(y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>o(!1),children:e.jsxs(y.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:a=>a.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Media Details"}),e.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(H,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"aspect-square rounded-xl overflow-hidden bg-gray-100 dark:bg-gray-900 mb-4",children:e.jsx("img",{src:u(n(r)),alt:r.alt_text||r.filename,className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Filename:"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium truncate ml-2",children:r.original_filename||r.filename})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Size:"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:_(r.file_size)})]}),r.width&&r.height&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Dimensions:"}),e.jsxs("span",{className:"text-gray-900 dark:text-white",children:[r.width," x ",r.height]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Uploaded:"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:V(r.created_at)})]})]}),e.jsxs("button",{onClick:()=>S(n(r)),className:"w-full mt-4 flex items-center justify-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[e.jsx(I,{className:"w-4 h-4"}),"Copy URL"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Alt Text ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:N.alt_text,onChange:a=>h(t=>({...t,alt_text:a.target.value})),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Describe the image for accessibility"}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[e.jsx(w,{className:"w-3 h-3"}),"Describes image for screen readers"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),e.jsx("input",{type:"text",value:N.title,onChange:a=>h(t=>({...t,title:a.target.value})),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Image title"}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[e.jsx(w,{className:"w-3 h-3"}),"Shows on hover, used in search"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Caption"}),e.jsx("textarea",{value:N.caption,onChange:a=>h(t=>({...t,caption:a.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Caption to display below image"}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[e.jsx(w,{className:"w-3 h-3"}),"Displayed below image when used in posts"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description (internal)"}),e.jsx("textarea",{value:N.description,onChange:a=>h(t=>({...t,description:a.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Internal notes for organizing your media"}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[e.jsx(w,{className:"w-3 h-3"}),"For organizing your media library"]})]})]})]})}),e.jsxs("div",{className:"flex justify-between gap-3 p-4 border-t border-gray-200 dark:border-gray-700 sticky bottom-0 bg-white dark:bg-gray-800",children:[e.jsx("button",{onClick:()=>{confirm("Delete this image?")&&p.deleteMedia(r.id).then(()=>{o(!1),d()})},className:"px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:"Delete"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:le,disabled:q,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[q&&e.jsx(U,{className:"w-4 h-4 animate-spin"}),"Save Changes"]})]})]})]})})})]})};export{ke as MediaManager,ke as default};
