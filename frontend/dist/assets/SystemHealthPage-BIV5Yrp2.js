import{r as a,j as e,q as y,x as p,p as w,W as f,O as j}from"./index-CH_EXTVi.js";import{L as o}from"./loader-2-DMEWPFv_.js";import{R as b}from"./refresh-cw-CMpTE3pz.js";import{C as k}from"./clock-BTGHFX1q.js";import{S as m}from"./server-BDnN3R7b.js";import{D as N}from"./database-DZNDifC4.js";const T=()=>{const[r,g]=a.useState([]),[h,x]=a.useState(!0),[n,l]=a.useState(!1);a.useEffect(()=>{d()},[]);const d=async()=>{l(!0);const s=[{id:"api",name:"API Server",status:"healthy",message:"All endpoints responding",responseTime:45,lastChecked:new Date().toISOString()},{id:"database",name:"Database",status:"healthy",message:"PostgreSQL connected",responseTime:12,lastChecked:new Date().toISOString()},{id:"plugins",name:"Plugins",status:"healthy",message:"3 of 4 plugins active",lastChecked:new Date().toISOString()},{id:"network",name:"External Services",status:"healthy",message:"OAuth, Email services OK",responseTime:120,lastChecked:new Date().toISOString()}];await new Promise(i=>setTimeout(i,1e3)),g(s),x(!1),l(!1)},c=s=>{switch(s){case"healthy":return e.jsx(w,{className:"w-5 h-5 text-green-500"});case"warning":return e.jsx(p,{className:"w-5 h-5 text-yellow-500"});case"error":return e.jsx(y,{className:"w-5 h-5 text-red-500"});case"checking":return e.jsx(o,{className:"w-5 h-5 text-gray-400 animate-spin"})}},u=s=>{switch(s){case"api":return m;case"database":return N;case"plugins":return j;case"network":return f;default:return m}},t=r.some(s=>s.status==="error")?"error":r.some(s=>s.status==="warning")?"warning":"healthy";return h?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(o,{className:"w-8 h-8 animate-spin text-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"System Health"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Monitor the status of your platform services"})]}),e.jsxs("button",{onClick:d,disabled:n,className:"inline-flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:[e.jsx(b,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:`
        rounded-xl p-6 border-2
        ${t==="healthy"?"bg-green-50 dark:bg-green-900/20 border-green-500":t==="warning"?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-500":"bg-red-50 dark:bg-red-900/20 border-red-500"}
      `,children:e.jsxs("div",{className:"flex items-center gap-4",children:[c(t),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t==="healthy"?"All Systems Operational":t==="warning"?"Minor Issues Detected":"System Issues Detected"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Last checked: ",new Date().toLocaleTimeString()]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(s=>{const i=u(s.id);return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-lg",children:e.jsx(i,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.message})]})]}),c(s.status)]}),s.responseTime&&e.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx(k,{className:"w-4 h-4"}),"Response time: ",s.responseTime,"ms"]})]},s.id)})})]})};export{T as SystemHealthPage,T as default};
