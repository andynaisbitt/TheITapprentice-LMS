import{j as e,m as h,e as T,U as R,K as A,G as O,a as I,T as k,F as P,L as u,r as f,Z as p,C as N}from"./index-CH_EXTVi.js";import{S as X}from"./sparkles-xvle3ljW.js";import{F as b}from"./flame-Dm-WfBw5.js";import{C as E}from"./calendar-DiGKrQFP.js";import{R as G,a as M}from"./index-DCQZMRM7.js";import{S as Y}from"./star-BISlQTdL.js";import{L as z}from"./lock-DjHL39yW.js";import{s as w}from"./skillsApi-FeqZoWOe.js";const ee=({progress:s,showDetails:t=!0,compact:i=!1,className:l=""})=>{const{level:r,total_xp:n,xp_in_current_level:o,xp_for_next_level:g,progress_percent:x,xp_to_next_level:m}=s;return i?e.jsxs("div",{className:`flex items-center gap-2 ${l}`,children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{className:"w-4 h-4 text-yellow-500"}),e.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:["Lv.",r]})]}),e.jsx("div",{className:"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx(h.div,{initial:{width:0},animate:{width:`${x}%`},transition:{duration:.5,ease:"easeOut"},className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full"})}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[x,"%"]})]}):e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl p-4 shadow ${l}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-xl font-bold text-white",children:r})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Level"}),e.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[n.toLocaleString()," XP"]})]})]}),t&&e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Next Level"}),e.jsxs("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400 font-medium",children:[e.jsx(T,{className:"w-4 h-4"}),m.toLocaleString()," XP"]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx(h.div,{initial:{width:0},animate:{width:`${x}%`},transition:{duration:.8,ease:"easeOut"},className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-full relative",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})}),t&&e.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{children:[o.toLocaleString()," XP"]}),e.jsxs("span",{className:"font-medium",children:[x,"%"]}),e.jsxs("span",{children:[g.toLocaleString()," XP"]})]})]})]})},se=({streak:s,longestStreak:t=0,showLongest:i=!1,compact:l=!1,className:r=""})=>{const n=()=>s>=30?"from-red-500 to-orange-500":s>=7?"from-orange-500 to-yellow-500":s>=3?"from-yellow-500 to-amber-500":"from-gray-400 to-gray-500",o=()=>s>=365?"You're on fire! A whole year!":s>=100?"Century streak! Amazing!":s>=30?"Monthly master!":s>=7?"Weekly warrior!":s>=3?"Good start!":s>=1?"Keep it going!":"Start your streak today!";return l?e.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[e.jsx("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${n()}`,children:e.jsx(b,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:s}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["day",s!==1?"s":""]})]})]}):e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl p-4 shadow ${r}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(h.div,{animate:s>0?{scale:[1,1.1,1],rotate:[0,-5,5,0]}:{},transition:{duration:1.5,repeat:1/0,repeatType:"reverse"},className:`w-14 h-14 rounded-xl bg-gradient-to-br ${n()} flex items-center justify-center shadow-lg`,children:e.jsx(b,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:s}),e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"day streak"})]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:o()})]}),i&&t>0&&e.jsxs("div",{className:"text-right border-l border-gray-200 dark:border-gray-700 pl-4",children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Best"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(E,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:t})]})]})]}),s>0&&s<365&&e.jsx("div",{className:"mt-3",children:B(s)})]})},B=s=>{let t=3,i="3 Days";s>=100?(t=365,i="1 Year"):s>=30?(t=100,i="100 Days"):s>=7?(t=30,i="30 Days"):s>=3&&(t=7,i="1 Week");const l=s/t*100;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[e.jsxs("span",{children:["Progress to ",i]}),e.jsxs("span",{children:[s,"/",t]})]}),e.jsx("div",{className:"h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx(h.div,{initial:{width:0},animate:{width:`${l}%`},className:"h-full bg-gradient-to-r from-orange-500 to-red-500 rounded-full"})})]})},F={tutorials:I,courses:O,typing:A,social:R,streak:b,special:Y},D={common:"",uncommon:"shadow-green-500/20",rare:"shadow-blue-500/30",epic:"shadow-purple-500/40",legendary:"shadow-yellow-500/50 animate-pulse"},te=({achievement:s,size:t="md",showProgress:i=!0,onClick:l,className:r=""})=>{const{name:n,description:o,icon:g,category:x,rarity:m,is_unlocked:d,progress:a,progress_max:c,progress_percent:y}=s,S=F[x]||k,$={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-24 h-24"},j={sm:"w-5 h-5",md:"w-7 h-7",lg:"w-10 h-10"},L={sm:"text-xs",md:"text-sm",lg:"text-base"},_=G[m],C=M[m],v=d?D[m]:"";return e.jsxs(h.div,{whileHover:{scale:l?1.05:1},whileTap:{scale:l?.95:1},className:`relative flex flex-col items-center ${l?"cursor-pointer":""} ${r}`,onClick:l,children:[e.jsx("div",{className:`
          ${$[t]}
          rounded-xl border-2 flex items-center justify-center
          ${d?_:"bg-gray-100 border-gray-300 dark:bg-gray-800 dark:border-gray-600"}
          ${d?C:""}
          ${v?`shadow-lg ${v}`:""}
          transition-all duration-300
        `,children:d?e.jsx(S,{className:`${j[t]} ${d?"":"opacity-50"}`}):e.jsx(z,{className:`${j[t]} text-gray-400`})}),e.jsxs("div",{className:`mt-2 text-center ${L[t]}`,children:[e.jsx("div",{className:`font-medium ${d?"text-gray-900 dark:text-white":"text-gray-400"}`,children:n}),t!=="sm"&&e.jsx("div",{className:`text-xs ${d?"text-gray-500 dark:text-gray-400":"text-gray-400"} line-clamp-2`,children:o})]}),i&&!d&&c>1&&e.jsxs("div",{className:"w-full mt-2",children:[e.jsx("div",{className:"h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx(h.div,{initial:{width:0},animate:{width:`${y}%`},className:"h-full bg-blue-500 rounded-full"})}),e.jsxs("div",{className:"flex justify-between mt-0.5 text-[10px] text-gray-400",children:[e.jsxs("span",{children:[a,"/",c]}),e.jsxs("span",{children:[y,"%"]})]})]}),d&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(P,{className:"w-3 h-3 text-white"})})]})},K=({skillSlug:s,skillName:t,skillIcon:i,level:l,tier:r,tierColor:n,size:o="md",showName:g=!1,linkable:x=!0})=>{const m={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-14 h-14 text-base"},d={sm:"text-sm",md:"text-lg",lg:"text-2xl"},a=e.jsxs("div",{className:"flex items-center gap-2 group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`${m[o]} rounded-full flex items-center justify-center transition-transform group-hover:scale-110`,style:{backgroundColor:`${n}20`},children:e.jsx("span",{className:d[o],children:i})}),e.jsx("div",{className:`absolute -bottom-1 -right-1 ${o==="sm"?"w-4 h-4 text-[10px]":o==="md"?"w-5 h-5 text-xs":"w-6 h-6 text-sm"} rounded-full flex items-center justify-center text-white font-bold shadow-md`,style:{backgroundColor:n},children:l})]}),g&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:t}),e.jsx("span",{className:"text-xs",style:{color:n},children:r})]})]});return x?e.jsx(u,{to:`/skills/${s}`,className:"inline-block",title:`${t} - Level ${l} ${r}`,children:a}):e.jsx("div",{title:`${t} - Level ${l} ${r}`,children:a})},re=({userId:s,maxSkills:t=6,showLeaderboardLink:i=!0,compact:l=!1})=>{const[r,n]=f.useState(null),[o,g]=f.useState(!0),[x,m]=f.useState(null);if(f.useEffect(()=>{(async()=>{try{g(!0);const c=s?await w.getUserSkills(s):await w.getMySkills();n(c)}catch(c){console.error("Failed to fetch skills:",c),m(c.response?.data?.detail||"Failed to load skills")}finally{g(!1)}})()},[s]),o)return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-5 bg-gray-200 dark:bg-gray-700 rounded w-24 mb-4"}),e.jsx("div",{className:"flex gap-2",children:[1,2,3].map(a=>e.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full"},a))})]})});if(x)return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm",children:[e.jsx(p,{className:"w-6 h-6 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Skills not available"}),e.jsx("p",{className:"text-xs mt-1",children:"Admin needs to seed skills first"})]})});if(!r||r.skills.length===0)return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(p,{className:"w-4 h-4 text-yellow-500"}),"Skills"]}),e.jsx(u,{to:"/skills",className:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400",children:"Get started"})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Complete tutorials, courses, and quizzes to level up your IT skills!"})]});const d=[...r.skills].sort((a,c)=>c.currentLevel-a.currentLevel||c.currentXp-a.currentXp).slice(0,t);return l?e.jsxs(u,{to:"/skills",className:"flex items-center gap-3 p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 transition-colors group",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:r.itLevel})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"IT Level"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.specialization})]}),e.jsx(N,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-500 group-hover:translate-x-1 transition-all"})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(p,{className:"w-4 h-4 text-yellow-500"}),"Skills"]}),e.jsxs(u,{to:"/skills",className:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 flex items-center gap-1",children:["View all",e.jsx(N,{className:"w-4 h-4"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:r.itLevel}),e.jsx("div",{className:"text-xs text-blue-600/70 dark:text-blue-400/70",children:"IT Level"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:r.totalLevel}),e.jsx("div",{className:"text-xs text-purple-600/70 dark:text-purple-400/70",children:"Total Level"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Top Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(a=>e.jsx(K,{skillSlug:a.skillSlug,skillName:a.skillName,skillIcon:a.skillIcon,level:a.currentLevel,tier:a.tier,tierColor:a.tierColor,size:"sm"},a.skillSlug))})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Specialization"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:r.specialization})]}),i&&e.jsxs(u,{to:"/skills/leaderboard",className:"mt-4 flex items-center justify-center gap-2 w-full py-2 bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 rounded-lg text-sm font-medium hover:bg-yellow-100 dark:hover:bg-yellow-900/30 transition-colors",children:[e.jsx(k,{className:"w-4 h-4"}),"View Leaderboard"]})]})};export{te as A,se as S,ee as X,re as a};
