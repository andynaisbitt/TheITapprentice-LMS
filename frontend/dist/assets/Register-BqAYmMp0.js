import{c as q,f as L,u as E,r as i,j as e,L as F,q as z,s as A}from"./index-CJMQzWwg.js";import{G as O}from"./GoogleOAuthButton-BQJgpn16.js";import{E as w}from"./eye-off-NQb64N79.js";import{E as j}from"./eye-CSrMaUQX.js";const $=q("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),B=()=>{const o=L(),{register:g}=E(),[r,k]=i.useState({email:"",username:"",password:"",confirmPassword:"",first_name:"",last_name:""}),[b,m]=i.useState(""),[s,c]=i.useState({}),[f,p]=i.useState(!1),[h,v]=i.useState(!1),[y,N]=i.useState(!1),[l,P]=i.useState({minLength:!1,hasUppercase:!1,hasLowercase:!1,hasNumber:!1}),_=a=>{P({minLength:a.length>=8,hasUppercase:/[A-Z]/.test(a),hasLowercase:/[a-z]/.test(a),hasNumber:/[0-9]/.test(a)})},d=a=>{const{name:t,value:x}=a.target;k(n=>({...n,[t]:x})),m(""),c(n=>({...n,[t]:""})),t==="password"&&_(x),t==="confirmPassword"&&x!==r.password?c(n=>({...n,confirmPassword:"Passwords do not match"})):t==="confirmPassword"&&x===r.password&&c(n=>({...n,confirmPassword:""}))},C=()=>{const a={};return r.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(a.email="Invalid email format"):a.email="Email is required",r.username?r.username.length<3?a.username="Username must be at least 3 characters":/^[a-zA-Z0-9_-]+$/.test(r.username)||(a.username="Username can only contain letters, numbers, hyphens, and underscores"):a.username="Username is required",r.password?Object.values(l).every(t=>t)||(a.password="Password does not meet all requirements"):a.password="Password is required",r.password!==r.confirmPassword&&(a.confirmPassword="Passwords do not match"),r.first_name?.trim()||(a.first_name="First name is required"),r.last_name?.trim()||(a.last_name="Last name is required"),c(a),Object.keys(a).length===0},S=async a=>{if(a.preventDefault(),m(""),!!C()){p(!0);try{await g({email:r.email.trim(),username:r.username.trim(),password:r.password,first_name:r.first_name.trim(),last_name:r.last_name.trim()}),o("/verify-email",{state:{email:r.email,message:"Registration successful! Please check your email for a verification code."}})}catch(t){console.error("Registration error:",t),m(t.message||"Registration failed. Please try again.")}finally{p(!1)}}};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center px-4 py-12",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Create Your Account"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Join our community and start your learning journey"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[b&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:b})}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"First Name"}),e.jsx("input",{type:"text",id:"first_name",name:"first_name",required:!0,autoComplete:"given-name",value:r.first_name,onChange:d,className:`w-full px-4 py-2 bg-white dark:bg-gray-700 border ${s.first_name?"border-red-500":"border-gray-300 dark:border-gray-600"} text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition`,placeholder:"John"}),s.first_name&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:s.first_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Name"}),e.jsx("input",{type:"text",id:"last_name",name:"last_name",required:!0,autoComplete:"family-name",value:r.last_name,onChange:d,className:`w-full px-4 py-2 bg-white dark:bg-gray-700 border ${s.last_name?"border-red-500":"border-gray-300 dark:border-gray-600"} text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition`,placeholder:"Doe"}),s.last_name&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:s.last_name})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",required:!0,autoComplete:"email",value:r.email,onChange:d,className:`w-full px-4 py-2 bg-white dark:bg-gray-700 border ${s.email?"border-red-500":"border-gray-300 dark:border-gray-600"} text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition`,placeholder:"you@example.com"}),s.email&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:s.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username"}),e.jsx("input",{type:"text",id:"username",name:"username",required:!0,autoComplete:"username",value:r.username,onChange:d,className:`w-full px-4 py-2 bg-white dark:bg-gray-700 border ${s.username?"border-red-500":"border-gray-300 dark:border-gray-600"} text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition`,placeholder:"johndoe"}),s.username&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:s.username}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Letters, numbers, hyphens, and underscores only"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:h?"text":"password",id:"password",name:"password",required:!0,autoComplete:"new-password",value:r.password,onChange:d,className:`w-full px-4 py-2 pr-10 bg-white dark:bg-gray-700 border ${s.password?"border-red-500":"border-gray-300 dark:border-gray-600"} text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition`,placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>v(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:h?e.jsx(w,{size:18}):e.jsx(j,{size:18})})]}),r.password&&e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsx(u,{valid:l.minLength,text:"At least 8 characters"}),e.jsx(u,{valid:l.hasUppercase,text:"One uppercase letter"}),e.jsx(u,{valid:l.hasLowercase,text:"One lowercase letter"}),e.jsx(u,{valid:l.hasNumber,text:"One number"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:y?"text":"password",id:"confirmPassword",name:"confirmPassword",required:!0,autoComplete:"new-password",value:r.confirmPassword,onChange:d,className:`w-full px-4 py-2 pr-10 bg-white dark:bg-gray-700 border ${s.confirmPassword?"border-red-500":"border-gray-300 dark:border-gray-600"} text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition`,placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>N(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:y?e.jsx(w,{size:18}):e.jsx(j,{size:18})})]}),s.confirmPassword&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:s.confirmPassword})]}),e.jsx("button",{type:"submit",disabled:f,className:"w-full px-6 py-3 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition disabled:opacity-50 disabled:cursor-not-allowed font-medium flex items-center justify-center gap-2",children:f?e.jsxs(e.Fragment,{children:[e.jsx($,{size:18,className:"animate-spin"}),"Creating Account..."]}):"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",e.jsx(F,{to:"/login",className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:"Sign in"})]})}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or sign up with"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(O,{mode:"register",onSuccess:()=>{},onError:a=>{m(a)}})})]})]}),e.jsxs("p",{className:"mt-6 text-center text-xs text-gray-500 dark:text-gray-400",children:["By creating an account, you agree to our"," ",e.jsx("a",{href:"/terms",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"/privacy",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Privacy Policy"})]})]})})},u=({valid:o,text:g})=>e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o?e.jsx(z,{size:14,className:"text-green-600 dark:text-green-400"}):e.jsx(A,{size:14,className:"text-gray-400 dark:text-gray-500"}),e.jsx("span",{className:o?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400",children:g})]});export{B as Register,B as default};
