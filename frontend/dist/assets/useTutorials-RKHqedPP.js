import{r as t}from"./index-CH_EXTVi.js";import{g,c as d,a as y,d as S,e as T,s as h,b as p}from"./tutorialApi-DNKublxO.js";function F(){const[e,l]=t.useState([]),[n,u]=t.useState(!0),[r,c]=t.useState(null);return t.useEffect(()=>{async function a(){try{u(!0);const s=await g();l(s),c(null)}catch(s){c(s.message||"Failed to load categories")}finally{u(!1)}}a()},[]),{categories:e,loading:n,error:r}}function L(e){const[l,n]=t.useState([]),[u,r]=t.useState(!0),[c,a]=t.useState(null);return t.useEffect(()=>{async function s(){try{r(!0);const o=await y(e);n(o),a(null)}catch(o){a(o.message||"Failed to load tutorials")}finally{r(!1)}}s()},[e?.category_id,e?.difficulty,e?.search,e?.is_featured,e?.skip,e?.limit]),{tutorials:l,loading:u,error:c,refetch:()=>r(!0)}}function P(e=5){const[l,n]=t.useState([]),[u,r]=t.useState(!0),[c,a]=t.useState(null);return t.useEffect(()=>{async function s(){try{r(!0);const o=await d(e);n(o),a(null)}catch(o){a(o.message||"Failed to load featured tutorials")}finally{r(!1)}}s()},[e]),{tutorials:l,loading:u,error:c}}function C(e){const[l,n]=t.useState(null),[u,r]=t.useState(!0),[c,a]=t.useState(null),[s,o]=t.useState(0);return t.useEffect(()=>{if(!e){n(null),r(!1);return}async function i(){try{r(!0);const f=await S(e);n(f),a(null)}catch(f){a(f.message||"Failed to load tutorial"),n(null)}finally{r(!1)}}i()},[e,s]),{tutorial:l,loading:u,error:c,refetch:()=>{o(i=>i+1)}}}function $(e){const[l,n]=t.useState([]),[u,r]=t.useState(!0),[c,a]=t.useState(null);return t.useEffect(()=>{async function s(){try{r(!0);const o=await p(e);n(o),a(null)}catch(o){a(o.message||"Failed to load progress")}finally{r(!1)}}s()},[e]),{progress:l,loading:u,error:c,refetch:()=>r(!0)}}function b(){const[e,l]=t.useState(!1),[n,u]=t.useState(null);return{startTutorial:async a=>{try{return l(!0),u(null),await h(a)}catch(s){throw u(s.message||"Failed to start tutorial"),s}finally{l(!1)}},completeStep:async(a,s)=>{try{return l(!0),u(null),await T(a,s)}catch(o){throw u(o.message||"Failed to complete step"),o}finally{l(!1)}},loading:e,error:n}}export{P as a,L as b,C as c,b as d,$ as e,F as u};
