import{c as k,f as A,k as B,u as E,r as a,j as e,m as i,b as G,l as W,a as x,K as I,a4 as M}from"./index-9AhYSV_Z.js";import{t as _}from"./typingGameApi-2s0K0Wqv.js";import{Q as $}from"./QuickBrownFoxGame-B9jEuFh1.js";import{A as D}from"./arrow-left-Ca1ZuQyN.js";import{F as K}from"./filter-CCpmtWAD.js";import{L as Q}from"./loader-2-CpwtcwX3.js";import{S as V}from"./sparkles-B4syoDAp.js";import{C as z}from"./cpu-BZU72roX.js";import{C as H}from"./code-C33XcHV9.js";import{S as O}from"./star-DAR9lLy9.js";import{L as R}from"./lock--9cnHEbj.js";import{P as U}from"./play-DnLT1io8.js";import"./useTypingEngine-p_37244u.js";import"./SoundSettings-CwKd2h0L.js";import"./flame-0fKfX7LX.js";import"./StreakDisplay-h6MI3P9c.js";import"./DailyChallengeCard-Cw_JVedo.js";import"./gift-CsnwyeWI.js";import"./RegistrationPrompt-Bb3FUcaG.js";import"./log-in-CBBp6fCY.js";import"./useRegistrationPrompt-tM5YPnCb.js";import"./clock-1VZINaTW.js";import"./check-circle-2-DYYIZPiC.js";import"./rotate-ccw-CgZrYYAY.js";const q=k("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]),J=k("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),X={general:x,programming:H,technology:z,science:q,business:J,gaming:M,creative:V},Y={easy:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-600 dark:text-green-400"},medium:{bg:"bg-yellow-100 dark:bg-yellow-900/30",text:"text-yellow-600 dark:text-yellow-400"},hard:{bg:"bg-orange-100 dark:bg-orange-900/30",text:"text-orange-600 dark:text-orange-400"},expert:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-600 dark:text-red-400"}},we=()=>{const N=A(),[h]=B(),{isAuthenticated:Z,user:w}=E(),[r,S]=a.useState([]),[p,y]=a.useState(!0),[u,f]=a.useState(null),[l,C]=a.useState(""),[n,P]=a.useState("all"),[o,L]=a.useState("all"),[j,c]=a.useState(null),[F,d]=a.useState(!1);a.useEffect(()=>{const t=h.get("wordList");if(t&&r.length>0){const s=r.find(g=>g.id===t);s&&(c(s),d(!0))}},[h,r]),a.useEffect(()=>{(async()=>{y(!0),f(null);try{const s=await _.getWordLists();S(s)}catch(s){console.error("Failed to fetch word lists:",s),f("Failed to load word lists. Please try again.")}finally{y(!1)}})()},[]);const m=r.filter(t=>!(l&&!t.name.toLowerCase().includes(l.toLowerCase())&&!t.description?.toLowerCase().includes(l.toLowerCase())||n!=="all"&&t.difficulty!==n||o!=="all"&&t.theme!==o)),T=a.useCallback(()=>{d(!1),c(null)},[]);return F&&j?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsx($,{wordListId:j.id,onComplete:T,onExit:()=>{d(!1),c(null)}})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs(i.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("button",{onClick:()=>N("/games/typing"),className:"inline-flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[e.jsx(D,{className:"w-4 h-4"}),"Back to Typing Games"]}),e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(G,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Practice Mode"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Select a word list to practice your typing skills"})]})]})]}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(W,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search word lists...",value:l,onChange:t=>C(t.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/50"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(K,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsxs("select",{value:n,onChange:t=>P(t.target.value),className:"pl-10 pr-8 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/50 appearance-none",children:[e.jsx("option",{value:"all",children:"All Difficulties"}),e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"hard",children:"Hard"}),e.jsx("option",{value:"expert",children:"Expert"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsxs("select",{value:o,onChange:t=>L(t.target.value),className:"pl-10 pr-8 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/50 appearance-none",children:[e.jsx("option",{value:"all",children:"All Themes"}),e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"programming",children:"Programming"}),e.jsx("option",{value:"technology",children:"Technology"}),e.jsx("option",{value:"science",children:"Science"}),e.jsx("option",{value:"business",children:"Business"}),e.jsx("option",{value:"gaming",children:"Gaming"}),e.jsx("option",{value:"creative",children:"Creative"})]})]})]})}),p?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Q,{className:"w-8 h-8 animate-spin text-green-500"})}):u?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-500 mb-4",children:u}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Try Again"})]}):m.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(I,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:l||n!=="all"||o!=="all"?"No word lists match your filters":"No word lists available yet"})]}):e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map((t,s)=>{const g=X[t.theme||"general"]||x,b=Y[t.difficulty||"medium"],v=t.unlock_level&&(w?.level||1)<t.unlock_level;return e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+s*.05},className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden ${v?"opacity-60":""}`,children:[e.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-teal-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(g,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${b.bg} ${b.text}`,children:t.difficulty}),t.is_featured&&e.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400",children:[e.jsx(O,{className:"w-3 h-3"})," Featured"]})]})]})]})}),e.jsxs("div",{className:"p-4",children:[t.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4",children:[e.jsxs("span",{children:[t.words?.length||0," words"]}),e.jsxs("span",{children:[t.times_played||0," plays"]})]}),v?e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 py-2",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:["Unlocks at Level ",t.unlock_level]})]}):e.jsxs("button",{onClick:()=>{c(t),d(!0)},className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-r from-green-500 to-teal-600 text-white rounded-lg font-medium hover:opacity-90 transition-opacity",children:[e.jsx(U,{className:"w-4 h-4"}),"Practice"]})]})]},t.id)})}),!p&&m.length>0&&e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-8 text-center text-sm text-gray-500 dark:text-gray-400",children:["Showing ",m.length," of ",r.length," word lists"]})]})})};export{we as PracticeGamePage,we as default};
