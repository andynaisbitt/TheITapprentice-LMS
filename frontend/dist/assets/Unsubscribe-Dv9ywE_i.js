import{l as y,r as a,j as e,m as i,q as h,Y as f,s as p}from"./index-CJMQzWwg.js";import{L as j}from"./loader-2-DzYHjI--.js";const w=()=>{const[d]=y(),[s,n]=a.useState(""),[o,c]=a.useState(!1),[u,x]=a.useState(!1),[m,t]=a.useState(null);a.useEffect(()=>{const r=d.get("email");r&&n(r)},[d]);const b=async r=>{if(r.preventDefault(),!s){t("Please enter your email address");return}try{c(!0),t(null);const l=await fetch(`/api/v1/newsletter/unsubscribe/${encodeURIComponent(s)}`,{method:"GET"}),g=await l.json();l.ok?x(!0):t(g.detail||"Failed to unsubscribe. Please try again.")}catch(l){console.error("Unsubscribe error:",l),t("Failed to unsubscribe. Please try again later.")}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-md w-full",children:u?e.jsxs(i.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-200 dark:border-slate-700 p-8 text-center",children:[e.jsx(i.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-16 h-16 mx-auto mb-4 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:e.jsx(h,{className:"text-green-600 dark:text-green-400",size:32})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Successfully Unsubscribed"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You've been removed from our newsletter list. We're sorry to see you go!"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"You can re-subscribe at any time from our website."})]}):e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-600 to-gray-700 dark:from-gray-700 dark:to-gray-800 p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:e.jsx(f,{className:"text-white",size:32})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Unsubscribe from Newsletter"}),e.jsx("p",{className:"text-gray-200",children:"We're sorry to see you go"})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:s,onChange:r=>n(r.target.value),placeholder:"you@example.com",required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent transition"})]}),m&&e.jsxs(i.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(p,{className:"text-red-600 dark:text-red-400 flex-shrink-0",size:20}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:m})]}),e.jsx("button",{type:"submit",disabled:o||!s,className:"w-full px-6 py-3 bg-gray-600 dark:bg-gray-700 text-white rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"animate-spin",size:20}),"Unsubscribing..."]}):"Unsubscribe"})]}),e.jsx("p",{className:"mt-6 text-xs text-center text-gray-500 dark:text-gray-400",children:"Changed your mind? You can always re-subscribe from our website."})]})]})})})};export{w as Unsubscribe,w as default};
