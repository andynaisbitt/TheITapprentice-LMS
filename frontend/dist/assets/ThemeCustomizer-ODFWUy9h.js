import{g as u,f as v,V as w,r as d,j as e}from"./index-CJMQzWwg.js";const x={get:async()=>(await u.get("/api/v1/admin/theme")).data,update:async l=>(await u.put("/api/v1/admin/theme",l)).data,reset:async()=>(await u.post("/api/v1/admin/theme/reset")).data},S=()=>{const l=v(),{refreshTheme:i}=w(),[N,g]=d.useState(null),[a,t]=d.useState({}),[p,b]=d.useState(!0),[c,o]=d.useState(!1),[m,y]=d.useState(null),[h,n]=d.useState(null);d.useEffect(()=>{k()},[]);const k=async()=>{try{b(!0);const r=await x.get();g(r),t(r),y(null)}catch(r){y(r.response?.data?.detail||"Failed to load theme settings")}finally{b(!1)}},f=async r=>{r.preventDefault();try{o(!0);const s=await x.update(a);g(s),n("Theme settings saved successfully!"),setTimeout(()=>n(null),3e3),await i()}catch(s){alert(s.response?.data?.detail||"Failed to save theme settings")}finally{o(!1)}},j=async()=>{if(confirm("Are you sure you want to reset theme to defaults? This cannot be undone."))try{o(!0);const r=await x.reset();g(r),t(r),n("Theme reset to defaults!"),setTimeout(()=>n(null),3e3),await i()}catch{alert("Failed to reset theme")}finally{o(!1)}};return p?e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading theme settings..."})]})}):e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Theme Customizer"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Customize colors, fonts, and layout"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>l("/admin"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:"â† Back to Dashboard"}),e.jsx("button",{onClick:j,disabled:c,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition font-medium disabled:opacity-50",children:"Reset to Defaults"})]})]}),h&&e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-green-600 dark:text-green-400",children:h})}),m&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-red-600 dark:text-red-400",children:m})}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Site Identity"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Site Name"}),e.jsx("input",{type:"text",value:a.site_name||"",onChange:r=>t({...a,site_name:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tagline"}),e.jsx("input",{type:"text",value:a.tagline||"",onChange:r=>t({...a,tagline:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Colors"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"primary_color",label:"Primary"},{key:"secondary_color",label:"Secondary"},{key:"accent_color",label:"Accent"},{key:"background_light",label:"Background (Light)"},{key:"background_dark",label:"Background (Dark)"},{key:"text_light",label:"Text (Light Mode)"},{key:"text_dark",label:"Text (Dark Mode)"}].map(r=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.label}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:a[r.key]||"#000000",onChange:s=>t({...a,[r.key]:s.target.value}),className:"w-16 h-10 border border-gray-300 dark:border-gray-600 rounded cursor-pointer"}),e.jsx("input",{type:"text",value:a[r.key]||"",onChange:s=>t({...a,[r.key]:s.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"#000000"})]})]},r.key))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Typography"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Body Font"}),e.jsx("input",{type:"text",value:a.font_family||"",onChange:r=>t({...a,font_family:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Inter, system-ui, sans-serif"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Heading Font"}),e.jsx("input",{type:"text",value:a.heading_font||"",onChange:r=>t({...a,heading_font:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Inter, system-ui, sans-serif"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Base Font Size"}),e.jsx("input",{type:"text",value:a.font_size_base||"",onChange:r=>t({...a,font_size_base:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"16px"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Layout"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Container Width"}),e.jsx("input",{type:"text",value:a.container_width||"",onChange:r=>t({...a,container_width:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1280px"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Border Radius"}),e.jsx("input",{type:"text",value:a.border_radius||"",onChange:r=>t({...a,border_radius:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.5rem"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Custom CSS"}),e.jsx("textarea",{value:a.custom_css||"",onChange:r=>t({...a,custom_css:r.target.value}),rows:10,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"/* Add custom CSS here */"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Custom CSS will be injected into the page. Use with caution."})]}),e.jsx("div",{className:"flex justify-end gap-3",children:e.jsx("button",{type:"submit",disabled:c,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Saving...":"Save Changes"})})]})]})})};export{S as ThemeCustomizer,S as default};
