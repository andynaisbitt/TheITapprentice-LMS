import{g as i}from"./index-smch1bU1.js";const r="/api/v1/skills";function s(l){return{skills:l.skills.map(e=>({skillId:e.skill_id,skillName:e.skill_name,skillSlug:e.skill_slug,skillIcon:e.skill_icon,skillCategory:e.skill_category,currentXp:e.current_xp,currentLevel:e.current_level,xpToNextLevel:e.xp_to_next_level,xpForNextLevel:e.xp_for_next_level,xpProgressPercentage:e.xp_progress_percentage,totalActivitiesCompleted:e.total_activities_completed,lastActivityAt:e.last_activity_at,tier:e.tier,tierColor:e.tier_color,level10Achieved:e.level_10_achieved,level30Achieved:e.level_30_achieved,level50Achieved:e.level_50_achieved,level75Achieved:e.level_75_achieved,level99Achieved:e.level_99_achieved})),totalLevel:l.total_level,maxTotalLevel:l.max_total_level,itLevel:l.it_level,maxItLevel:l.max_it_level,specialization:l.specialization,specializationPath:l.specialization_path,averageLevel:l.average_level,totalXp:l.total_xp,skillsAt99:l.skills_at_99,skillsAt50Plus:l.skills_at_50_plus}}function o(l){return{rank:l.rank,userId:l.user_id,username:l.display_name||l.username,avatarUrl:l.avatar_url,level:l.skill_level,xp:l.skill_xp,tier:l.tier||null,tierColor:l.tier_color||"#6366f1"}}function n(l){return{rank:l.rank,userId:l.user_id,username:l.username,avatarUrl:l.avatar_url,itLevel:l.it_level,totalLevel:l.total_level,totalXp:l.total_xp,specialization:l.specialization,skillsAt99:l.skills_at_99}}const _={async getAllSkills(){const l=await i.get(`${r}/`);return{skills:l.data.map(e=>({id:e.id,name:e.name,slug:e.slug,description:e.description,icon:e.icon,category:e.category,color:e.color,displayOrder:e.display_order,isActive:e.is_active})),totalCount:l.data.length}},async getSkill(l){const a=(await i.get(`${r}/slug/${l}`)).data;return{id:a.id,name:a.name,slug:a.slug,description:a.description,icon:a.icon,category:a.category,color:a.color,displayOrder:a.display_order,isActive:a.is_active}},async getMySkills(){const l=await i.get(`${r}/me/overview`);return s(l.data)},async getUserSkills(l){const e=await i.get(`${r}/users/${l}`);return s(e.data)},async getMyXPHistory(l,e=20){const a=await i.get(`${r}/me/${l}/history?limit=${e}`);return{entries:a.data.entries.map(t=>({id:t.id,skillName:t.skill_name,skillSlug:t.skill_slug,xpGained:t.xp_gained,sourceType:t.source_type,sourceId:t.source_id,sourceMetadata:t.source_metadata,levelBefore:t.level_before,levelAfter:t.level_after,createdAt:t.earned_at})),total:a.data.total_xp_gained}},async getSkillLeaderboard(l,e=100){const a=await i.get(`${r}/${l}/leaderboard?limit=${e}`);return{skillSlug:a.data.skill_slug,skillName:a.data.skill_name,entries:a.data.entries.map(o),totalParticipants:a.data.total_participants,userRank:a.data.user_rank}},async getGlobalLeaderboard(l=100){const e=await i.get(`${r}/leaderboards/global?limit=${l}`);return{entries:e.data.entries.map(n),totalParticipants:e.data.total_participants,userRank:e.data.user_rank}},async getTiers(){return{tiers:(await i.get(`${r}/utils/tiers`)).data.tiers.map(e=>({name:e.name,minLevel:e.min_level,maxLevel:e.max_level,color:e.color}))}},async calculateXP(l){const e=await i.get(`${r}/utils/xp-calculator?level=${l}`);return{level:e.data.level,totalXpRequired:e.data.total_xp_required,tier:e.data.tier,tierColor:e.data.tier_color,xpToNextLevel:e.data.xp_to_next_level,progressInTier:e.data.progress_in_tier}}};export{_ as s};
