import{j as e,L as p,u,r as m}from"./index-smch1bU1.js";import{u as y,a as j,b}from"./useQuizzes-BbP-pkY_.js";const k={easy:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",hard:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",expert:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"},f={easy:"Easy",medium:"Medium",hard:"Hard",expert:"Expert"},g=({quiz:s})=>e.jsxs(p,{to:`/quizzes/${s.id}`,className:"block bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 overflow-hidden group",children:[e.jsx("div",{className:"h-3 bg-gradient-to-r from-purple-500 to-indigo-600"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.category&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded",children:s.category}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${k[s.difficulty]}`,children:f[s.difficulty]}),s.is_featured&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400 rounded",children:"Featured"})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors",children:s.title}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{children:[s.question_count," questions"]})]}),s.time_limit_minutes&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{children:[s.time_limit_minutes," min"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsxs("span",{children:[s.xp_reward," XP"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Pass rate: "}),e.jsxs("span",{className:`font-medium ${s.pass_rate>=70?"text-green-600 dark:text-green-400":s.pass_rate>=40?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:[s.pass_rate.toFixed(0),"%"]})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s.total_attempts," attempt",s.total_attempts!==1?"s":""]})]}),e.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:["Passing score: ",s.passing_score,"%"]})]})]}),w=()=>{const{isAuthenticated:s}=u(),[t,n]=m.useState(""),[a,o]=m.useState(""),{quizzes:x}=y(3),{quizzes:d,loading:c,error:i}=j({category:t||void 0,difficulty:a||void 0}),{stats:l}=b(),h=Array.from(new Set(d.map(r=>r.category).filter(Boolean)));return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Quizzes"}),e.jsx("p",{className:"text-xl text-purple-100 mb-8",children:"Test your knowledge and earn XP with interactive quizzes"}),s&&l&&e.jsxs("div",{className:"flex flex-wrap gap-6 mt-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-3",children:[e.jsx("div",{className:"text-2xl font-bold",children:l.quizzes_passed}),e.jsx("div",{className:"text-sm text-purple-200",children:"Passed"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-3",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[l.average_score.toFixed(0),"%"]}),e.jsx("div",{className:"text-sm text-purple-200",children:"Avg Score"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-3",children:[e.jsx("div",{className:"text-2xl font-bold",children:l.total_xp_earned}),e.jsx("div",{className:"text-sm text-purple-200",children:"XP Earned"})]})]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[x.length>0&&!t&&!a&&e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Featured Quizzes"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(r=>e.jsx(g,{quiz:r},r.id))})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:"lg:w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 sticky top-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Filters"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsxs("select",{value:t,onChange:r=>n(r.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"All Categories"}),h.map(r=>e.jsx("option",{value:r,children:r},r))]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Difficulty"}),e.jsxs("select",{value:a,onChange:r=>o(r.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"All Levels"}),e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"hard",children:"Hard"}),e.jsx("option",{value:"expert",children:"Expert"})]})]}),(t||a)&&e.jsx("button",{onClick:()=>{n(""),o("")},className:"w-full px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Clear Filters"})]})}),e.jsxs("main",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t||a?"Filtered Quizzes":"All Quizzes"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[d.length," quiz",d.length!==1?"zes":""]})]}),c&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}),i&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-800 dark:text-red-200",children:[e.jsx("p",{className:"font-medium",children:"Error loading quizzes"}),e.jsx("p",{className:"text-sm mt-1",children:i})]}),!c&&!i&&e.jsx(e.Fragment,{children:d.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:d.map(r=>e.jsx(g,{quiz:r},r.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-24 w-24 text-gray-400 dark:text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"No quizzes found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters or check back later"})]})})]})]})]})]})};export{w as default};
