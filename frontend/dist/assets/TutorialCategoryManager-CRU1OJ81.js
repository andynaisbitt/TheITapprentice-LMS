import{c as p,r as i,j as e,w as k,ac as b,Z as N,P as C,S as w,X as S}from"./index-CH_EXTVi.js";import{L as B}from"./loader-2-DMEWPFv_.js";import{G as F}from"./grip-vertical-D6gg4hmE.js";import{P as L}from"./pen-DH6aCffj.js";import{T as D}from"./trash-2-CEmDLHiu.js";import{L as P,S as _,G as E}from"./smartphone-D_hX5stu.js";import{L as T}from"./lock-DjHL39yW.js";import{C as A}from"./cpu-_pi0kHoV.js";import{T as G}from"./terminal-Bxyp-Sfb.js";import{C as I}from"./cloud-Ckk35vZl.js";import{D as q}from"./database-DZNDifC4.js";import{S as M}from"./server-BDnN3R7b.js";import{C as f}from"./code-BHlmB5O8.js";const O=p("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),z=p("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),h={Code:f,Server:M,Shield:w,Database:q,Globe:E,Smartphone:_,Cloud:I,Terminal:G,Cpu:A,Lock:T,Palette:C,Layers:P,GitBranch:z,Box:O,Zap:N,FolderTree:b},R=Object.keys(h),Z=[{name:"Blue",value:"#3B82F6"},{name:"Green",value:"#10B981"},{name:"Red",value:"#EF4444"},{name:"Purple",value:"#8B5CF6"},{name:"Orange",value:"#F97316"},{name:"Cyan",value:"#06B6D4"},{name:"Pink",value:"#EC4899"},{name:"Yellow",value:"#EAB308"},{name:"Indigo",value:"#6366F1"},{name:"Teal",value:"#14B8A6"}],se=()=>{const[t,d]=i.useState([]),[m,x]=i.useState(!0),[s,l]=i.useState(!1),[c,g]=i.useState(null);i.useEffect(()=>{u()},[]);const u=async()=>{x(!0);try{d([{id:1,name:"Programming",slug:"programming",description:"Learn to code",icon:"Code",color:"#3B82F6",display_order:1,tutorial_count:5},{id:2,name:"DevOps",slug:"devops",description:"Infrastructure and deployment",icon:"Server",color:"#10B981",display_order:2,tutorial_count:3},{id:3,name:"Security",slug:"security",description:"Cybersecurity fundamentals",icon:"Shield",color:"#EF4444",display_order:3,tutorial_count:2}])}catch(a){console.error("Failed to load categories:",a)}finally{x(!1)}},y=async a=>{confirm("Are you sure you want to delete this category?")&&d(t.filter(o=>o.id!==a))};return m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(B,{className:"w-8 h-8 animate-spin text-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Tutorial Categories"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Organize your tutorials into categories"})]}),e.jsxs("button",{onClick:()=>{g(null),l(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:[e.jsx(k,{className:"w-4 h-4"}),"Add Category"]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(b,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No categories yet"}),e.jsx("button",{onClick:()=>l(!0),className:"mt-4 text-primary hover:underline",children:"Create your first category"})]}):e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.map(a=>e.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("button",{className:"cursor-grab text-gray-400 hover:text-gray-600",children:e.jsx(F,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:a.color||"#6B7280"}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:a.name}),a.description&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:a.description})]}),e.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",children:[a.tutorial_count||0," tutorials"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{g(a),l(!0)},className:"p-2 text-gray-400 hover:text-primary transition-colors",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>y(a.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(D,{className:"w-4 h-4"})})]})]},a.id))})}),s&&e.jsx($,{category:c,nextOrder:t.length+1,onClose:()=>l(!1),onSave:a=>{if(c)d(t.map(o=>o.id===c.id?{...o,...a}:o));else{const o={...a,id:Date.now(),tutorial_count:0};d([...t,o])}l(!1)}})]})},$=({category:t,nextOrder:d,onClose:m,onSave:x})=>{const[s,l]=i.useState({name:t?.name||"",slug:t?.slug||"",description:t?.description||"",icon:t?.icon||"Code",color:t?.color||"#3B82F6",display_order:t?.display_order||d}),[c,g]=i.useState(!t),u=r=>r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),y=r=>{l(n=>({...n,name:r,...c?{slug:u(r)}:{}}))},a=r=>{g(!1),l(n=>({...n,slug:r}))},o=r=>{r.preventDefault(),x(s)},v=h[s.icon]||f;return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-lg mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t?"Edit Category":"New Category"}),e.jsx("button",{onClick:m,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:e.jsx(S,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:o,className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name *"}),e.jsx("input",{type:"text",required:!0,value:s.name,onChange:r=>y(r.target.value),className:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"Programming"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Slug *"}),e.jsx("input",{type:"text",required:!0,value:s.slug,onChange:r=>a(r.target.value),className:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 font-mono text-sm",placeholder:"programming"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"URL-friendly identifier (auto-generated from name)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),e.jsx("textarea",{rows:2,value:s.description,onChange:r=>l(n=>({...n,description:r.target.value})),className:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"Learn to code with practical examples"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Icon"}),e.jsx("div",{className:"grid grid-cols-8 gap-2",children:R.map(r=>{const n=h[r];return e.jsx("button",{type:"button",onClick:()=>l(j=>({...j,icon:r})),className:`p-2 rounded-lg border-2 transition-colors ${s.icon===r?"border-primary bg-primary/10":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,title:r,children:e.jsx(n,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})},r)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Color"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Z.map(r=>e.jsx("button",{type:"button",onClick:()=>l(n=>({...n,color:r.value})),className:`w-8 h-8 rounded-full border-2 transition-all ${s.color===r.value?"border-gray-900 dark:border-white scale-110":"border-transparent hover:scale-105"}`,style:{backgroundColor:r.value},title:r.name},r.value))})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Preview"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:s.color+"20"},children:e.jsx("span",{style:{color:s.color},children:e.jsx(v,{className:"w-5 h-5"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:s.name||"Category Name"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["/",s.slug||"category-slug"]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:o,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:t?"Save Changes":"Create Category"})]})]})})};export{se as TutorialCategoryManager,se as default};
